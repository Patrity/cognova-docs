---
title: "Production Checklist"
description: "Security hardening and operational best practices for production deployments."
navigation:
  icon: i-lucide-shield-check
---

Cognova gives an AI agent unrestricted access to the machine it runs on. Before exposing it to any network, work through this checklist.

## Security

### Use a Dedicated Machine

Never run Cognova on a personal computer or alongside sensitive workloads. Use a dedicated:

- Virtual machine (e.g., a VPS from Hetzner, DigitalOcean, Linode)
- Dedicated Mac mini or similar
- Isolated cloud instance

The embedded terminal and Claude Code CLI can read, write, and execute anything the process user has access to.

### Put a Reverse Proxy with TLS in Front

Never expose port 3000 directly to the internet. Use a reverse proxy:

**Caddy (automatic HTTPS):**

```
cognova.yourdomain.com {
    reverse_proxy localhost:3000
}
```

**Nginx:**

```nginx
server {
    listen 443 ssl;
    server_name cognova.yourdomain.com;

    ssl_certificate     /etc/letsencrypt/live/cognova.yourdomain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/cognova.yourdomain.com/privkey.pem;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

::doc-callout{type="warning"}
The `Upgrade` and `Connection` headers are required for WebSocket support (terminal and chat features).
::

### Change Default Credentials

If you skipped setting credentials during `cognova init`, the defaults are `admin@example.com` / `changeme123`. Change them immediately.

### Generate a Strong Auth Secret

The `BETTER_AUTH_SECRET` signs session tokens. Use a cryptographically random value:

```bash
openssl rand -base64 32
```

See the [Configuration](/docs/getting-started/configuration) reference for all security-related variables.

### Restrict Network Access

Use firewall rules to limit who can reach the app:

```bash
# UFW example: allow only your IP
sudo ufw allow from YOUR_IP to any port 443
sudo ufw deny 3000
```

### Do Not Store Secrets on the Machine

Avoid placing SSH keys, cloud credentials, API keys, or production secrets on the Cognova host. The agent has full file system access and could inadvertently read or expose them.

## Operations

### Configure Swap (Small VMs)

Nuxt builds can exhaust memory on VMs with less than 4 GB RAM. Add swap:

```bash
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
echo '/swapfile swap swap defaults 0 0' | sudo tee -a /etc/fstab
```

### Log Management

Cognova logs to `<install-dir>/logs/stdout.log` and `stderr.log`. These grow unbounded. Set up log rotation:

**macOS (newsyslog):**

Add to `/etc/newsyslog.conf`:
```
/Users/<you>/cognova/logs/stdout.log  644  7  50000  *  J
/Users/<you>/cognova/logs/stderr.log  644  7  50000  *  J
```

**Linux (logrotate):**

Create `/etc/logrotate.d/cognova`:
```
/home/<you>/cognova/logs/*.log {
    weekly
    rotate 7
    compress
    missingok
    notifempty
}
```

### Auto-Start on Boot

The system service is configured to start automatically:

- **macOS**: The launchd plist has `RunAtLoad` and `KeepAlive` enabled
- **Linux**: The systemd unit is enabled via `cognova start`

Verify with `cognova status`.

### Monitor Resources

```bash
# Tail logs
tail -f ~/cognova/logs/stdout.log

# Check service status
cognova status
```

### Database Backups

For local PostgreSQL (Docker container):

```bash
docker exec cognova-db pg_dump -U postgres cognova > backup.sql
```

For hosted databases (Neon, Supabase), use the provider's backup features.

### Health Endpoint

The app exposes `GET /api/health` which returns:

```json
{
  "status": "ok",
  "database": { "available": true }
}
```

Use this for uptime monitoring (e.g., UptimeRobot, Healthchecks.io).

## Pre-Launch Checklist

| Item | Status |
|------|--------|
| Dedicated VM or isolated machine | |
| Reverse proxy with TLS configured | |
| `BETTER_AUTH_SECRET` is a random 32+ byte value | |
| `BETTER_AUTH_URL` matches the public URL exactly | |
| Default admin credentials changed | |
| Firewall restricts access to trusted IPs | |
| No SSH keys or cloud creds on the host | |
| Swap configured (if < 4 GB RAM) | |
| Log rotation configured | |
| Service auto-starts on boot | |
| Database backups scheduled | |
| Health endpoint monitored | |
| `cognova doctor` reports all checks passing | |
